---
const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{title}</title>
        <link rel="stylesheet" href="/src/assets/global.css" />
    </head>
    <body class="themed-background text-gray-800">
        <header class="bg-title-box-color themed-text p-4">
            <div class="container mx-auto">
                <h1 class="text-2xl font-bold">Batiste Laloi Portfolio</h1>
            </div>
        </header>
        <main class="container mx-auto p-4">
            <slot />
        </main>
        <footer class="bg-gray-800 themed-text p-4 mt-8">
            <div class="container mx-auto text-center">
                <p>&copy; 2025 Batiste Laloi</p>
            </div>
            <button
                id="theme-toggle"
                class="themed-background rounded absolute top-4 right-4"
            >
                ðŸŒ‘ðŸŒ•
            </button>
        </footer>
    </body>

    <!-- script to toggle dark: -->
    <script>
        const themeToggle = document.getElementById("theme-toggle");
        const body = document.querySelector("body");

        if (themeToggle && body) {
            // Check if the user has a preference for dark mode
            const prefersDark = window.matchMedia(
                "(prefers-color-scheme: dark)"
            ).matches;

            // Set the theme based on the user's preference
            if (prefersDark) {
                body.classList.add("dark");
            }

            // Set the content of the theme toggle button based on the class in the body
            themeToggle.textContent = body.classList.contains("dark")
                ? "ðŸŒ•"
                : "ðŸŒ‘";

            // Add an event listener to toggle the theme
            themeToggle.addEventListener("click", () => {
                body.classList.toggle("dark");
                themeToggle.textContent = body.classList.contains("dark")
                    ? "ðŸŒ•"
                    : "ðŸŒ‘";
            });
        }
    </script>
</html>
